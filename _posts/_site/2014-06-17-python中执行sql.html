<p>mysql中执行sql</p>
<div class='highlight'><pre><code class='python'><span class='c'>#coding: UTF-8</span>
<span class='kn'>import</span> <span class='nn'>os</span>
<span class='kn'>import</span> <span class='nn'>sys</span>
<span class='kn'>import</span> <span class='nn'>MySQLdb</span>

<span class='n'>htmls</span> <span class='o'>=</span> <span class='p'>[]</span>
<span class='n'>widthes</span><span class='o'>=</span><span class='p'>[]</span>
<span class='n'>heights</span><span class='o'>=</span><span class='p'>[]</span>
<span class='k'>with</span> <span class='nb'>open</span><span class='p'>(</span><span class='s'>&quot;htmls.txt&quot;</span><span class='p'>,</span> <span class='s'>&quot;r&quot;</span><span class='p'>)</span> <span class='k'>as</span> <span class='n'>f</span><span class='p'>:</span>
     <span class='k'>for</span> <span class='n'>line</span> <span class='ow'>in</span> <span class='n'>f</span><span class='p'>:</span>
          <span class='n'>htmls</span><span class='o'>.</span><span class='n'>append</span><span class='p'>(</span><span class='n'>line</span><span class='p'>)</span>

<span class='k'>with</span> <span class='nb'>open</span><span class='p'>(</span><span class='s'>&quot;widthes.txt&quot;</span><span class='p'>,</span> <span class='s'>&quot;r&quot;</span><span class='p'>)</span> <span class='k'>as</span> <span class='n'>f</span><span class='p'>:</span>
     <span class='k'>for</span> <span class='n'>line</span> <span class='ow'>in</span> <span class='n'>f</span><span class='p'>:</span>
          <span class='n'>widthes</span><span class='o'>.</span><span class='n'>append</span><span class='p'>(</span><span class='n'>line</span><span class='p'>)</span>

<span class='k'>with</span> <span class='nb'>open</span><span class='p'>(</span><span class='s'>&quot;heights.txt&quot;</span><span class='p'>,</span> <span class='s'>&quot;r&quot;</span><span class='p'>)</span> <span class='k'>as</span> <span class='n'>f</span><span class='p'>:</span>
     <span class='k'>for</span> <span class='n'>line</span> <span class='ow'>in</span> <span class='n'>f</span><span class='p'>:</span>
          <span class='n'>heights</span><span class='o'>.</span><span class='n'>append</span><span class='p'>(</span><span class='n'>line</span><span class='p'>)</span>

<span class='n'>db</span> <span class='o'>=</span> <span class='n'>MySQLdb</span><span class='o'>.</span><span class='n'>connect</span><span class='p'>(</span><span class='s'>&quot;ip&quot;</span><span class='p'>,</span><span class='s'>&quot;dbname&quot;</span><span class='p'>,</span><span class='s'>&quot;dbuser&quot;</span><span class='p'>,</span><span class='s'>&quot;dbpwd&quot;</span><span class='p'>,</span><span class='n'>charset</span><span class='o'>=</span><span class='s'>&quot;utf8&quot;</span><span class='p'>)</span>
<span class='n'>cursor</span> <span class='o'>=</span> <span class='n'>db</span><span class='o'>.</span><span class='n'>cursor</span><span class='p'>()</span>

<span class='k'>for</span> <span class='n'>index</span> <span class='ow'>in</span> <span class='nb'>range</span><span class='p'>(</span><span class='nb'>len</span><span class='p'>(</span><span class='n'>htmls</span><span class='p'>)):</span>
    <span class='n'>sql</span><span class='o'>=</span><span class='s'>&quot;insert into wl_info(name,cate_id,contentcate_id,contentSubCate_Id,width,height,status,html) values (&#39;黑名单第一季&#39;,29,48,26,&quot;</span><span class='o'>+</span><span class='n'>widthes</span><span class='p'>[</span><span class='n'>index</span><span class='p'>]</span><span class='o'>+</span><span class='s'>&quot;,&quot;</span><span class='o'>+</span><span class='n'>heights</span><span class='p'>[</span><span class='n'>index</span><span class='p'>]</span><span class='o'>+</span><span class='s'>&quot;,1,&#39;&quot;</span><span class='o'>+</span><span class='n'>htmls</span><span class='p'>[</span><span class='n'>index</span><span class='p'>]</span><span class='o'>+</span><span class='s'>&quot;&#39;)&quot;</span>
    <span class='n'>cursor</span><span class='o'>.</span><span class='n'>execute</span><span class='p'>(</span><span class='n'>sql</span><span class='p'>)</span>
<span class='n'>db</span><span class='o'>.</span><span class='n'>close</span><span class='p'>()</span>
</code></pre></div>